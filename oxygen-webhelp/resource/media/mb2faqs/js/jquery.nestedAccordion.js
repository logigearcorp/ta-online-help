 /*! 
 * Nested Accordion v.1.4.7.4 
 * Script to create 'accordion' functionality on a hierarchically structured content.
 * http://www.adipalaz.com/experiments/jquery/nested_accordion.html
 *
 * Requires: jQuery v. 1.4.3+ / updated for jQuery v. 1.9 /
 * Copyright (c) 2009, 2010, 2011, 2012, 2013 Adriana Palazova
 *
 * Dual licensed under the MIT (http://www.adipalaz.com/docs/mit-license.txt) and GPL v. 2 (http://www.adipalaz.com/docs/gpl-license.txt) licenses.
 */
 !function(e){e.fn.accordion=function(t){var n=e.extend({},e.fn.accordion.defaults,t);return this.each(function(){function t(t){var n=[];return t.each(function(){e.each(this.childNodes,function(){3==this.nodeType&&e.trim(this.nodeValue)&&n.push(this)})}),e(n)}function i(t){for(var n=0,i=arguments.length;i>n;n++){var s=arguments[n],l=e(s);if(l.scrollTop()>0)return s;l.scrollTop(1);var a=l.scrollTop()>0;if(l.scrollTop(0),a)return s}return[]}var s=n.container?this.id:"",l=n.objID?n.objID:n.obj+n.objClass,a=n.container?s+" "+l:this.id,o=a+" "+n.el,r=null;if(n.head&&e(a).find(n.head).addClass("h"),n.head&&(e(o).next("div:not(.mb2faqs-accordion-list-item__outer)").length&&e(o).next("div:not(.mb2faqs-accordion-list-item__outer)").wrap('<div class="mb2faqs-accordion-list-item__outer" />'),e(a+" .h").each(function(){var t=e(this);"div"!=n.wrapper||t.parent("div.mb2faqs-accordion-list-item").length||t.add(t.next("div.mb2faqs-accordion-list-item__outer")).wrapAll('<div class="mb2faqs-accordion-list-item"></div>')})),e(o).each(function(){var i=e(this);if(i.find(n.next).length||i.next(n.next).length){if(i.find("> a").length)n.iconTrigger?i.find("> a").addClass("link"):i.find("> a").addClass("trigger");else{var s=n.iconTrigger?'<span class="heading" />':'<a class="trigger" href="#" />';if(n.elToWrap){var l=t(i),a=i.find(n.elToWrap),o=l.add(a);o.wrapAll(s)}else t(i).wrap(s)}n.iconTrigger&&(i.find("> a, >span.heading").before('<a href="#" class="icon trigger"></a>'),i.find("> a.icon.trigger"))}else i.addClass("last-child"),n.lastChild&&i.find("> a").length&&i.find("> a").addClass("trigger")}),e(o+" a.trigger").closest(n.wrapper).find("> "+n.next).not(".shown").hide().closest(n.wrapper).find("a.open").removeClass("open").data("state",0),n.activeLink&&n.initShow){var d=window.location.href,c=d.split(n.splitUrl),h="full"!=n.uri&&d.indexOf(n.splitUrl)>=0?c[c.length-1]:d;e(a+' a:not([href $= "#"])').each(function(){var t,i,s=e(this);"full"!=n.uri&&s.attr("href").indexOf(n.splitUrl)>=0?(t=s.attr("href").split(n.splitUrl),i=t[t.length-1]):i=s.attr("href"),i==h&&s.addClass("active").parent().attr("id","current").closest(n.obj).addClass("current")})}if(n.shift&&e(a+" a.active").closest(n.wrapper).prev(n.wrapper).length){var f=e(a+" a.active").closest(n.wrapper),p=e().addBack?f.nextAll().addBack():f.nextAll().andSelf(),u=f.siblings(n.wrapper),g=u.filter(":first");("clicked"==n.shift||"all"==n.shift&&u.length)&&f.insertBefore(g).addClass("shown").siblings(n.wrapper).removeClass("shown"),"all"==n.shift&&u.length>1&&p.insertBefore(g)}if(n.initShow&&(e(a).find(n.initShow).show().addClass("shown").parents(a+" "+n.next).show().addClass("shown").end().parents(n.wrapper).find("> a.trigger, > "+n.el+" a.trigger").addClass("open").data("state",1),n.expandSub&&e(a+" "+n.initShow).children(n.next).show().end().find("> a.trigger").addClass("open").data("state",1),e(a+" "+n.initShow).next(n.next).length&&e(a+" "+n.initShow).next(n.next).show().end().find("> a.trigger").addClass("open").data("state",1)),"click"==n.event)var w="click";else{if(n.focus)var v=" focus";else var v="";var w="mouseenter"+v}var x;x="function"==typeof i?i("html","body"):"html, body",e(a).delegate("a.trigger",w,function(t){function i(t){if(d.length&&l.data("state")&&n.collapsible&&(l.removeClass("open"),d.filter(":visible")[n.hideMethod](n.hideSpeed,function(){l.data("state",0)})),(d.length&&!l.data("state")||!d.length&&l.closest(n.wrapper).not(".shown"))&&(n.standardExpansible||(c.find("> a.open, >"+n.el+" a.open").removeClass("open").data("state",0).end().find("> "+n.next+":visible")[n.hideMethod](n.hideSpeed),s&&s<e(window).scrollTop()&&e(x).animate({scrollTop:s},n.scrollSpeed)),l.addClass("open"),d.filter(":hidden")[n.showMethod](n.showSpeed,function(){l.data("state",1)})),n.shift&&a.prev(n.wrapper).length){var i=e().addBack?a.nextAll().addBack():a.nextAll().andSelf(),o=c.filter(":first");("clicked"==n.shift||"all"==n.shift&&c.length)&&a.insertBefore(o).addClass("shown").siblings(n.wrapper).removeClass("shown"),"all"==n.shift&&c.length>1&&i.insertBefore(o)}}var s,l=e(this),a=l.closest(n.wrapper),d=a.find("> "+n.next),c=a.siblings(n.wrapper),h=e(o+" a.trigger"),f=a.siblings(n.wrapper).find(">"+n.next+":visible");return s=f.length?f.offset().top:!1,"click"==n.event?(i(h),l.is('[href $= "#"]')?!1:e.isFunction(n.retFunc)?n.retFunc(l):!0):void("click"!=n.event&&(r=window.setTimeout(function(){i(h)},n.interval),l.click(function(){return l.blur(),"#"==l.attr("href")?(l.blur(),!1):void 0})))}),"click"!=n.event&&e(a).delegate("a.trigger","mouseleave",function(){window.clearTimeout(r)})})},e.fn.accordion.defaults={container:!0,obj:"ul",objClass:".accordion",objID:"",wrapper:"li",el:"li",head:"",next:"ul",iconTrigger:!1,initShow:"",expandSub:!0,showMethod:"slideDown",hideMethod:"slideUp",showSpeed:400,hideSpeed:800,scrollSpeed:600,activeLink:!0,event:"click",focus:!0,interval:400,collapsible:!0,standardExpansible:!1,lastChild:!0,shift:!1,elToWrap:null,uri:"full",splitUrl:"/",retFunc:null};var t=!1;"undefined"!=typeof window.attachEvent&&(t=!0),e.fn.slideFadeDown=function(e,n){return this.animate({opacity:"show",height:"show"},e,function(){t&&this.style.removeAttribute("filter"),jQuery.isFunction(n)&&n()})},e.fn.slideFadeUp=function(e,n){return this.animate({opacity:"hide",height:"hide"},e,function(){t&&this.style.removeAttribute("filter"),jQuery.isFunction(n)&&n()})}}(jQuery),function(e){e.fn.expandAll=function(t){var n=e.extend({},e.fn.expandAll.defaults,t);return this.each(function(t){function i(t){for(var n=0,i=arguments.length;i>n;n++){var s=arguments[n],l=e(s);if(l.scrollTop()>0)return s;l.scrollTop(1);var a=l.scrollTop()>0;if(l.scrollTop(0),a)return s}return[]}var s,l,a,o,r,d,c,h=e(this);if("before"==n.switchPosition?(e.fn.findSibling=e.fn.prev,e.fn.insrt=e.fn.before):(e.fn.findSibling=e.fn.next,e.fn.insrt=e.fn.after),r=this.id.length?"#"+this.id:this.className.length?this.tagName.toLowerCase()+"."+this.className.split(" ").join("."):this.tagName.toLowerCase(),n.ref&&h.find(n.ref).length){if(s="before"==n.switchPosition?h.find(n.ref).filter(":first"):h.find(n.ref).filter(":last"),n.cllpsLength&&h.closest(r).find(n.cllpsEl).text().length<n.cllpsLength)return void h.closest(r).find(n.cllpsEl).addClass("dont_touch");"show"==n.initTxt?(d=n.expTxt,c=""):(d=n.cllpsTxt,c="open"),"hidden"==n.state?h.find(n.cllpsEl+":not(.shown, .dont_touch)").hide().findSibling().find("> a.open").removeClass("open").data("state",0):h.find(n.cllpsEl).show().findSibling().find("> a").addClass("open").data("state",1),n.oneSwitch?s.insrt('<p class="switch"><a href="#" class="'+c+'">'+d+"</a></p>"):s.insrt('<p class="switch"><a href="#" class="">'+n.expTxt+'</a>&nbsp;|&nbsp;<a href="#" class="open">'+n.cllpsTxt+"</a></p>"),l=s.findSibling("p").find("a"),a=h.closest(r).find(n.cllpsEl).not(".dont_touch"),o=n.trigger?h.closest(r).find(n.trigger+" > a"):h.closest(r).find(".expand > a"),n.child&&(h.find(n.cllpsEl+".shown").show().findSibling().find("> a").addClass("open").text(n.cllpsTxt),window.$vrbls={kt1:n.expTxt,kt2:n.cllpsTxt});var f;if(f="function"==typeof i?i("html","body"):"html, body",l.click(function(){var t=e(this),i=t.closest(r).find(n.cllpsEl).filter(":first"),s=i.offset().top-n.offset;if(n.parent){var l=t.parent().nextAll().children("p.switch").find("a");kidTxt1=$vrbls.kt1,kidTxt2=$vrbls.kt2,kidTxt=t.text()==n.expTxt?kidTxt2:kidTxt1,l.text(kidTxt),t.text()==n.expTxt?l.addClass("open"):l.removeClass("open")}return t.text()==n.expTxt?(n.oneSwitch&&t.text(n.cllpsTxt).attr("class","open"),o.addClass("open").data("state",1),a[n.showMethod](n.speed)):(n.oneSwitch&&t.text(n.expTxt).attr("class",""),o.removeClass("open").data("state",0),0==n.speed||n.instantHide?a.hide():a[n.hideMethod](n.speed),n.scroll&&s<e(window).scrollTop()&&e(f).animate({scrollTop:s},600)),!1}),n.localLinks){var p=e(r).find(n.localLinks);p.length&&e(p).click(function(){var t=e(this.hash);if(t=t.length&&t||e("[name="+this.hash.slice(1)+"]"),t.length){var n=t.offset().top;return e(f).animate({scrollTop:n},600),!1}})}}})},e.fn.expandAll.defaults={state:"hidden",initTxt:"show",expTxt:"[Expand All]",cllpsTxt:"[Collapse All]",oneSwitch:!0,ref:".expand",switchPosition:"before",scroll:!1,offset:20,showMethod:"slideDown",hideMethod:"slideUp",speed:600,cllpsEl:".collapse",trigger:".expand",localLinks:null,parent:!1,child:!1,cllpsLength:null,instantHide:!1},e.fn.toggler=function(t){var n=e.extend({},e.fn.toggler.defaults,t),i=e(this);return i.wrapInner('<a style="display:block" href="#" title="Expand/Collapse" />'),n.initShow&&e(n.initShow).addClass("shown"),i.next(n.cllpsEl+":not(.shown)").hide(),this.each(function(){var t;t=n.container?n.container:"html",i.next("div.shown").length&&i.closest(t).find(".shown").show().prev().find("a").addClass("open"),e(this).click(function(){return e(this).find("a").toggleClass("open").end().next(n.cllpsEl)[n.method](n.speed),!1})})},e.fn.toggler.defaults={cllpsEl:"div.collapse",method:"slideToggle",speed:"slow",container:"",initShow:".shown"};var t=!1;"undefined"!=typeof window.attachEvent&&(t=!0),e.fn.fadeToggle=function(e,n){return this.animate({opacity:"toggle"},e,function(){t&&this.style.removeAttribute("filter"),jQuery.isFunction(n)&&n()})},e.fn.slideFadeToggle=function(e,n,i){return this.animate({opacity:"toggle",height:"toggle"},e,n,function(){t&&this.style.removeAttribute("filter"),jQuery.isFunction(i)&&i()})},e.fn.slideFadeDown=function(e,n){return this.animate({opacity:"show",height:"show"},e,function(){t&&this.style.removeAttribute("filter"),jQuery.isFunction(n)&&n()})},e.fn.slideFadeUp=function(e,n){return this.animate({opacity:"hide",height:"hide"},e,function(){t&&this.style.removeAttribute("filter"),jQuery.isFunction(n)&&n()})}}(jQuery);